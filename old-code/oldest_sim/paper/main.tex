\documentclass[hidelinks,11pt]{article}
\usepackage[english]{babel}
\usepackage[utf8]{inputenc}
\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{graphicx}
\usepackage{physics}
\usepackage{hhline}
\usepackage[activate={true,nocompatibility},final,tracking=true,kerning=true,spacing=true,factor=1100,stretch=10,shrink=10]{microtype}
% activate={true,nocompatibility} - activate protrusion and expansion
% final - enable microtype; use "draft" to disable
% tracking=true, kerning=true, spacing=true - activate these techniques
% factor=1100 - add 10% to the protrusion amount (default is 1000)
% stretch=10, shrink=10 - reduce stretchability/shrinkability (default is 20/20)
\microtypecontext{spacing=nonfrench}
\graphicspath{{img/}{../img/},{../../img/}}
\usepackage{mdframed}
\usepackage{appendix}[titletoc]
\usepackage{algorithm2e}
\usepackage{algpseudocode}
\usepackage{caption}
\usepackage{bbm}
\usepackage{mathtools}
\usepackage{subcaption}
\usepackage{subfiles}
\usepackage{commath}
\usepackage{pgfplots}
\usepackage{latexsym}
\usepackage{amsthm}
\usepackage{txfonts}
\usepackage{wasysym}
\usepackage{hyperref}
\usepackage{arrayjobx}
\usepackage{array}
\usepackage{tikz}
\usepackage{minted}
\usepackage{tikzscale}
\usepackage{tabu}
\usepackage{float}
\usepackage{multirow}
\usepackage{makecell}
\usepackage[xindy,toc,acronyms,symbols]{glossaries}
\usepackage[square,numbers]{natbib}
\bibliographystyle{plainnat}
\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}
\usepackage{geometry}
\usepackage{cleveref}
\usepackage{siunitx}
\usepackage[intoc,english]{nomencl}
\usetikzlibrary{arrows,shapes,positioning}
\usetikzlibrary{calc,decorations.markings}

\floatstyle{plain}
\newfloat{floatbnf}{h}{bnf}
\floatname{floatbnf}{BNF}

%\usepackage{physics}

\pgfplotsset{compat=1.12}

\RestyleAlgo{ruled}
\LinesNumbered

\hypersetup{
    pdftitle={Large-scale statistical Universe simulation},                            % title
    pdfauthor={Alexander Towell},               % author
    pdfsubject={computer science},              % subject of the document
    pdfkeywords={
        simulation,
        physics},                         % keywords
    colorlinks=false,                           % false: boxed links; true: colored links
    citecolor=green,                            % color of links to bibliography
    filecolor=magenta,                          % color of file links
    urlcolor=green                              % color of external links
}

\renewcommand*{\glslinkcheckfirsthyperhook}{%
  \ifglsused{\glslabel}%
  {%
    \setkeys{glslink}{hyper=false}%
  }%
  {}%
}

\SetKwFunction{Dim}{Dim}

\newcommand{\derivative}[1]{\frac {\mathrm{d}}{\mathrm{d}#1}}
\newcommand{\pderivative}[1]{\frac {\mathrm{\partial}}{\mathrm{\partial}#1}}
\newcommand{\rv}[1]{\mathrm{#1}}
\newcommand{\likelihood}{\mathcal{L}}
\newcommand{\entropy}{\operatorname{\mathcal{H}}}
\newcommand{\cdf}{\operatorname{F}}
\newcommand{\pdf}{\operatorname{f}}
\newcommand{\haz}{\operatorname{h}}
\newcommand{\srv}{\operatorname{R}}
\newcommand{\pmf}{\operatorname{p}}
\newcommand{\prob}{\Pr} %\mathrm{Pr}
\newcommand{\kth}{$k^{\text{th }}$}
\newcommand{\ith}{$i^{\text{th }}$}
\newcommand{\jth}{$j^{\text{th }}$}
\newcommand{\nth}{$n^{\text{th }}$}
\newcommand{\rth}{$r^{\text{th }}$}
\newcommand{\pth}{$p^{\text{th }}$}
\newcommand{\mvndist}{\operatorname{\rm{MVN}}}
\newcommand{\expdist}{\operatorname{\rm{EXP}}}
\newcommand{\zipf}{\operatorname{\rm{Zipf}}}
\newcommand{\geodist}{\operatorname{\rm{GEO}}}
\newcommand{\dudist}{\operatorname{\rm{DU}}}
\newcommand{\var}{\operatorname{\rm{Var}}}
\newcommand{\infi}{\operatorname{\rm{inf}}}
\newcommand{\mse}{\operatorname{\rm{MSE}}}
\newcommand{\cov}{\operatorname{\matrx{\mathlarger{\Sigma_n}}}}
\newcommand{\trace}{\operatorname{tr}}
\newcommand{\card}[1]{\left\vert{#1}\right\vert}
\newcommand{\true}{\textproc{True}}
\newcommand{\false}{\textproc{False}}
\newcommand{\bool}{\textproc{Boolean}}
\newcommand{\given}{{\,|\,}}
\newcommand{\indicator}[1]{\operatorname{\mathbbm{1}_{#1}}}
\renewcommand{\vec}[1]{\boldsymbol{\mathbf{#1}}}
\newcommand{\veclist}[1]{ \left (#1 \right )}
\newcommand{\matrx}[1]{\boldsymbol{#1}}
\newcommand{\cardinality}[1]{\left\vert #1 \right\vert}
\newcommand*{\euler}{\mathrm{e}}
\newcommand{\mvn}{\operatorname{\rm{MVN}}}
\newcommand\concatop{\mathbin{+\mkern-10mu+}}

\DeclareMathOperator{\powerset}{\mathcal{P}}
\DeclareMathOperator{\likeli}{\mathcal{L}}
\DeclareMathOperator{\expectation}{\mathbb{E}}
\DeclareMathOperator*{\argmax}{arg\,max}
\DeclareMathOperator*{\argmin}{arg\,min}
\DeclareMathOperator{\hessian}{\mathcal{H}}
\DeclareMathOperator{\jacobian}{\mathcal{J}}

\numberwithin{equation}{section}

\newcommand{\pfam}{\mathcal{F}}
\newcommand{\tparam}[1]{{#1}^{\star}}
\newcommand{\Snn}{\rv{S_{\mathsmaller{1\,:\,n}}}}
\newcommand{\snn}{\mathsmaller{\Snn}}
\newcommand{\Ssnn}{s_{\mathsmaller{1\,:\,n}}}

\newcounter{equationstore}
\AtBeginEnvironment{proof}{\setcounter{equationstore}{\value{equation}}
\setcounter{equation}{0}\renewcommand{\theequation}{\alph{equation}}}
\AtEndEnvironment{proof}{\setcounter{equation}{\value{equationstore}}}

\theoremstyle{plain}
\newtheorem{theorem}{Theorem}[section]
\newtheorem{corollary}{Corollary}[theorem]
\newtheorem{definition}{Definition}[section]
\newtheorem{postulate}{Postulate}[section]
\newtheorem{assumption}{Assumption}[section]

\theoremstyle{remark}
\newtheorem*{remark}{Remark}
\newtheorem*{notation}{Notation}

\PassOptionsToPackage{unicode}{hyperref}
\PassOptionsToPackage{naturalnames}{hyperref}

\newcommand{\cisb}{\mathbb{B}}

\newcounter{examplecounter}
\newenvironment{example}
{
    \begin{quote}%
    \refstepcounter{examplecounter}%
    \textbf{Example \arabic{examplecounter}}%
    \quad
}
{%
    \end{quote}%
}

\setglossarystyle{list}
\loadglsentries{gloss}
\makeglossaries

\newacronym[see={[Glossary:]{gls-mle}}]{mle}{MLE}{\gls{gls-mle}}

\title{UniverseSim}
\author{Alex Towell}
\date{}

\begin{document}

\maketitle

\abstract
{
    Abstract here.
}

\tableofcontents
\listoffigures
\listofalgorithms

\printglossary[numberedsection,type=symbols,style=list,nogroupskip]
\printglossary[type=\acronymtype]
\subfile{sections/intro}
\subfile{sections/torus}
\subfile{sections/spring-mass-systems}
\subfile{sections/gas-theory}
\subfile{sections/appendix}
\printglossary

\end{document}
